{"version":3,"file":"mega.js","sources":["mega-api/util.js","mega-api/crypto.js","mega-api/mega-util.js","mega-api/mega-api.js","mega-api/grouped-tasks.js","mega-api/synchronization.js","mega-api/file-attributes.js","mega-api/share.js","mega-api/nodes.js","mega-api/mega.js"],"sourcesContent":["import {atob, btoa, MessageChannel} from \"./browser-context.js\";\n\nexport default class Util {\n\n    /**\n     * @param {string} base64\n     * @returns {string} binaryString\n     */\n    static base64ToBinaryString(base64) {\n        try {\n            return atob(base64);\n        } catch (e) {\n            console.error(\"Incorrect Base64:\", base64);\n            throw e;\n        }\n    }\n\n    /**\n     * @param {string} binaryString\n     * @returns {string} base64\n     */\n    static binaryStringToBase64(binaryString) {\n        return btoa(binaryString);\n    }\n\n    /**\n     * @param {TypedArray|ArrayBuffer|DataView} arrayBuffer\n     * @returns {string}\n     */\n    static arrayBufferToUtf8String(arrayBuffer) {\n        return new TextDecoder().decode(arrayBuffer);\n    }\n\n    /**\n     * To binary string (Latin1).\n     *\n     * NB: A binary string is a string is encoded with \"Latin1\" (\"ISO-8859-1\", not \"Windows−1252\"!).\n     * `TextDecoder` does not support decoding \"Latin1\", \"ISO-8859-1\".\n     * ```\n     * const str = new TextDecoder(\"ISO-8859-1\").decode(new Uint8Array([148, 125, 1, 218, 233, 169, 248, 111]));\n     * console.log(str[0], str[0].charCodeAt(0)); // \"”\" 8221 (!)\n     * const result = Uint8Array.from(str.split(\"\"), ch => ch.charCodeAt(0));\n     * console.log(result);\n     * // [29, 125, 1, 218, 233, 169, 248, 111] // 29 (!) (trims `8221` to one byte)\n     * ```\n     * UPD:\n     * Well, it works not so good as I expected\n     * ```\n     * String.fromCharCode(...new Uint8Array(125830)) // OK\n     * String.fromCharCode(...new Uint8Array(125831)) // RangeError: Maximum call stack size exceeded\n     * ```\n     * Replaced with `reduce`. It works OK, no need to optimise (like `Util.arrayBufferToHexString()`).\n     *\n     * Also:\n     * new TextDecoder(\"utf-8\").decode(new Uint8Array([128])).charCodeAt(0) === 65533 \"�\"\n     * new TextDecoder(\"Latin1\").decode(new Uint8Array([128])).charCodeAt(0) === 8364 \"€\"\n     * String.fromCharCode(128).charCodeAt(0) === 128 \"\"\n     *\n     * @param {Uint8Array} arrayBuffer\n     * @returns {string} binaryString\n     * */\n    static arrayBufferToBinaryString(arrayBuffer) {\n        return arrayBuffer.reduce((accumulator, byte) => accumulator + String.fromCharCode(byte), \"\");\n    }\n\n    /**\n     * Do not use `new TextEncoder().encode(binaryStr)` for binary (Latin1) strings.\n     * It maps code points to utf8 bytes (so char codes of 128-255 range maps to 2 bytes, not 1).\n     * For example: String.fromCharCode(128) is mapped to [194, 128] bytes\n     *\n     * The current implementation works x2-4 times faster than:\n     * `Uint8Array.from(binaryString.split(\"\"), ch => ch.charCodeAt(0))`\n     *\n     * @param {string} binaryString\n     * @returns {Uint8Array} u8Array\n     */\n    static binaryStringToArrayBuffer(binaryString) {\n        const u8Array = new Uint8Array(binaryString.length);\n        for (let i = 0; i < binaryString.length; i++) {\n            u8Array[i] = binaryString.charCodeAt(i);\n        }\n        return u8Array;\n    }\n\n    /**\n     * Binary string (Latin1) encoded with Base64 to ArrayBuffer\n     * @param {string} base64\n     * @returns {Uint8Array}\n     */\n    static base64ToArrayBuffer(base64) {\n        const binaryString = Util.base64ToBinaryString(base64);\n        return Util.binaryStringToArrayBuffer(binaryString);\n    }\n\n    /**\n     * ArrayBuffer to Base64 encoded binary string (Latin1)\n     * @param {Uint8Array} arrayBuffer\n     * @returns {string}\n     */\n    static arrayBufferToBase64(arrayBuffer) {\n        const binaryString = Util.arrayBufferToBinaryString(arrayBuffer);\n        return Util.binaryStringToBase64(binaryString);\n    }\n\n    /**\n     * The optimised version\n     * @param {TypedArray} arrayBuffer\n     * @returns {string}\n     */\n    static arrayBufferToHexString(arrayBuffer) {\n        const byteToHex = Util.ByteToHexTable.get();\n\n        const buffer = new Uint8Array(arrayBuffer.buffer);\n        const hexOctets = new Array(buffer.length);\n\n        for (let i = 0; i < buffer.length; i++) {\n            hexOctets[i] = byteToHex[buffer[i]];\n        }\n\n        return hexOctets.join(\"\");\n    }\n\n    /**\n     * Allows to get the precomputed hex octets table (the array)\n     *\n     * `[0]: \"00\"`\n     * ...\n     * `[255]: \"FF\"`\n     *\n     * It is used only in `Util.arrayBufferToHexString()`. Lazy loading.\n     * @private\n     */\n    static ByteToHexTable = class {\n        static get() {\n            const self = Util.ByteToHexTable;\n            if (!self.inited) {\n                self.init();\n            }\n            return self.byteToHex;\n        }\n        static byteToHex = [];\n        static inited = false;\n        static init = () => {\n            const self = Util.ByteToHexTable;\n            for (let i = 0; i < 256; i++) {\n                const hexOctet = i.toString(16).padStart(2, \"0\");\n                self.byteToHex.push(hexOctet);\n            }\n            self.inited = true;\n        }\n    }\n\n\n\n    /**\n     * Array of bytes (Little-endian) to Long (64-bits) value\n     * @param {Uint8Array} arrayBuffer\n     * @returns {number}\n     */\n    static arrayBufferToLong(arrayBuffer) {\n        const sizeofLong = 8; // in fact max integer value in JS has 7 bytes, see Number.MAX_SAFE_INTEGER\n\n        if (arrayBuffer.length > sizeofLong) {\n            throw \"Length is over size of Long\";\n        }\n\n        const result = arrayBuffer.reduce((previousValue, currentValue, index) => {\n            return previousValue + currentValue * (256 ** index);\n        }, 0);\n\n        if (result > Number.MAX_SAFE_INTEGER) { // > 9007199254740991 === 00 1F FF FF  FF FF FF FF\n            throw \"Over Number.MAX_SAFE_INTEGER\";\n        }\n\n        return result;\n    }\n\n    /**\n     * 1436853891 -> \"2015.07.14 09:04:51\"\n     * @param {number} seconds\n     * @returns {string}\n     */\n    static secondsToFormattedString(seconds) {\n        const date = new Date(seconds * 1000);\n\n        // Adds zero padding\n        function pad(str) {\n            return str.toString().padStart(2, \"0\");\n        }\n\n        return date.getFullYear() + \".\" + pad(date.getMonth() + 1) + \".\" + pad(date.getDate()) + \" \" +\n            pad(date.getHours()) + \":\" + pad(date.getMinutes()) + \":\" + pad(date.getSeconds());\n    }\n\n    /**\n     * Format bytes to human readable format\n     * Trims the tailing zeros\n     *\n     * {@link https://stackoverflow.com/a/18650828/11468937}\n     * @see MegaUtil.bytesToSize\n     * @param {number} bytes\n     * @param {number} [decimals=2]\n     * @returns {string}\n     */\n    static bytesToSize(bytes, decimals = 2) {\n        if (bytes === 0) {\n            return \"0 B\";\n        }\n        const k = 1024;\n        decimals = decimals < 0 ? 0 : decimals;\n        const sizes = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\n\n        const i = Math.floor(Math.log(bytes) / Math.log(k));\n        return Number.parseFloat((bytes / Math.pow(k, i)).toFixed(decimals)) + \" \" + sizes[i];\n    }\n\n    /**\n     * @example\n     * await Util.sleep(50);\n     *\n     * @param {number} ms milliseconds\n     * @param {boolean} inNextEventLoopTask - if passed 0 wait for the next event loop task, or no (use micro task)\n     * @returns {Promise}\n     */\n    static sleep(ms, inNextEventLoopTask = false) {  //todo rework (true be default)\n        if (ms <= 0) {\n            if (inNextEventLoopTask) {\n                return Util.nextEventLoopTask();\n            } else {\n                return Promise.resolve(); // It's not the same thing as using `setImmediate`\n            }\n        }\n        return new Promise(resolve => setTimeout(resolve, ms));\n    }\n\n    /**\n     * Return a promise that fulfills at the next event loop task\n     * Use to split a long time work to multiple tasks\n     *\n     * @example\n     * doWorkPart1();\n     * await Util.nextEventLoopTask();\n     * doWorkPart2();\n     *\n     * @returns {Promise}\n     */\n    static nextEventLoopTask() {\n        return new Promise(resolve => {\n            Util.setImmediate(resolve);\n        });\n    }\n\n    /**\n     * Transforms an object like this: `{\"n\": \"e1ogxQ7T\"}` to `\"n=e1ogxQ7T\"`\n     * and adds it to the url as search params. The example result: `${url}?n=e1ogxQ7T`.\n     *\n     * @param {URL} url\n     * @param {Object} searchParams\n     */\n    static addSearchParamsToURL(url, searchParams) {\n        Object.entries(searchParams).forEach(([key, value]) => {\n            url.searchParams.append(key, value.toString());\n        });\n    }\n\n    /**\n     * @param {function} executable - an async function to repeat if it throws an exception\n     * @param {number} count=5 - count of the repeats\n     * @param {number} delay=5000 - ms to wait before repeating\n     * @return {Promise<*>}\n     */\n    static async repeatIfErrorAsync(executable, count = 5, delay = 5000) { //todo make `delay` iterable\n        for (let i = 0;; i++) {\n            try {\n                if (i) {\n                    console.log(\"REPEAT\");\n                }\n                return await executable();\n            } catch (e) {\n                console.error(e, `ERROR! Will be repeated. The try ${i + 1} of ${count}.`);\n                if (i < count) {\n                    await Util.sleep(delay);\n                } else {\n                    throw e;\n                }\n            }\n        }\n    }\n\n    /**\n     * @param {string} name\n     * @return {string}\n     */\n    static getSafeName(name) {\n        //todo implement this:\n        // https://docs.microsoft.com/en-us/windows/win32/fileio/naming-a-file\n        if (name.includes(\"/\")) {\n            console.log(`Bad filename: \"${name}\"`); // for debugging currently\n        }\n        return name.replace(\"/\", \"_\");\n    }\n    //todo isSafeName() - the similar method\n\n    /**\n     * The simple implementation\n     * @param {Array|TypedArray} array1\n     * @param {Array|TypedArray} array2\n     * @return {boolean}\n     */\n    static compareArrays(array1, array2) {\n        if (array1.length === array2.length) {\n            for (let i = 0; i < array1.length; i++) {\n                if (array1[i] !== array2[i]) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * Convert the string to the base64 encoded utf-8 bytes.\n     *\n     * With default mode \"default\" it uses `unescape` function that is deprecated now,\n     * but it works much faster than converting with \"safe\" mode (ArrayBuffer -> binaryString -> base64).\n     * With \"unsafe\" mode the sting must be Latin1 encoded, or you get the exception in a browser\n     * (\"DOMException: Failed to execute 'btoa' on 'Window':\n     *     the string to be encoded contains characters outside of the Latin1 range.\") or the wrong result in Node.js.\n     *\n     * For node.js you can use:\n     * `Buffer.from(string).toString(\"base64\")`\n     *\n     * @param {string} string\n     * @param {\"default\"|\"safe\"|\"unsafe\"} [mode=\"default\"]\n     * @returns {string} base64\n     */\n    static stringToBase64(string, mode = \"default\") {\n        if (mode === \"default\") {       // uses deprecated `escape` function\n            const binaryString = unescape(encodeURIComponent(string));\n            return Util.binaryStringToBase64(binaryString);\n        } else if (mode === \"safe\") {   // works slower (~3x)\n            const arrayBuffer = new TextEncoder().encode(string);\n            return Util.arrayBufferToBase64(arrayBuffer);\n        } else if (mode === \"unsafe\") { // only for Latin1 within Base64\n            return Util.binaryStringToBase64(string);\n        }\n    }\n\n    /**\n     * Convert the Base64 encoded string of utf-8 bytes to the string.\n     *\n     * @param {string} base64\n     * @param {\"default\"|\"safe\"|\"unsafe\"} [mode=\"default\"]\n     * @returns {string}\n     */\n    static base64ToString(base64, mode = \"default\") {\n        if (mode === \"default\") {       // uses deprecated `escape` function\n            const binaryString = Util.base64ToBinaryString(base64);\n            return decodeURIComponent(escape(binaryString));\n        } else if (mode === \"safe\") {   // works slower (~x4+)\n            const arrayBuffer = Util.base64ToArrayBuffer(base64);\n            return new TextDecoder().decode(arrayBuffer);\n        } else if (mode === \"unsafe\") { // only for Latin1 within Base64\n            return Util.base64ToBinaryString(base64);\n        }\n    }\n\n    /**\n     * Make ReadableStream iterable\n     *\n     * @example\n     *  for await (const chunk of iterateReadableStream(stream)) {\n     *      i++;                 // If you do not want to block event loop.\n     *      if (i % 128 === 0) { // Note: it has negative impact for performance: ~7 %, without `if`: ~30 %.\n     *          await new Promise(resolve => setImmediate(resolve));\n     *      }\n     *      handle(chunk);\n     * }\n     *\n     * @template T\n     * @param {ReadableStream<T>} stream\n     * @returns {AsyncGenerator<T>}\n     */\n    static async * iterateReadableStream(stream) {\n        const reader = stream.getReader();\n        while (true) {\n            const {done, value} = await reader.read();\n            if (done) {\n                break;\n            }\n            yield value;\n        }\n    }\n\n\n    /**\n     * Browsers' MessagePort has no `unref`/`ref`,\n     * but the realization for Node requires to use them so let's just use `globalThis.setImmediate`.\n     */\n    static setImmediate = globalThis.setImmediate ||\n        /*#__PURE__*/ (function() {\n            const {port1, port2} = new MessageChannel();\n            const queue = [];\n\n            port1.onmessage = function() {\n                const callback = queue.shift();\n                callback();\n                // if (!queue.length) {\n                //     port1.unref();\n                // }\n            };\n            // port1.unref();\n\n            return function(callback) {\n                // port1.ref();\n                port2.postMessage(null);\n                queue.push(callback);\n            };\n        })();\n\n\n    // https://developers.google.com/web/updates/2011/09/Workers-ArrayBuffer\n    // https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm\n    static structuredClone(object) {\n        return new Promise(resolve => {\n            const {port1, port2} = new MessageChannel();\n            port1.onmessage = function(message) {\n                resolve(message.data);\n            };\n            port2.postMessage(object);\n        });\n    }\n\n    // // the experimental version\n    // static logger = {\n    //     DEBUG: true,\n    //     INFO: true,\n    //     /**\n    //      * @param {*} arguments\n    //      */\n    //     debug() {\n    //         if (!Util.logger.DEBUG) {\n    //             return;\n    //         }\n    //         // rollup says: \"A static class field initializer may not contain arguments\"\n    //         [...arguments].forEach(el => {\n    //             console.log(el);\n    //         });\n    //         console.log();\n    //     },\n    //     /**\n    //      * @param {*} arguments\n    //      */\n    //     info() {\n    //         if (!Util.logger.INFO) {\n    //             return;\n    //         }\n    //         // rollup says: \"A static class field initializer may not contain arguments\"\n    //         [...arguments].forEach(el => {\n    //             console.log(el);\n    //         });\n    //     }\n    // };\n}","// import {default as CryptoJS} from \"crypto-es\";      // or\n// import CryptoJS from \"./dependencies/crypto-es.js\"; // or\nimport {CryptoJS} from \"./dependencies/all.js\";\n\nexport default class Crypto {\n    /**\n     * Decrypt AES with `CryptoJS` (Upd: CryptoES)\n     *\n     * Modes: \"CBC\" (the default), \"CFB\", \"CTR\", \"OFB\", \"ECB\".\n     *\n     * Padding schemes: \"Pkcs7\" (the default), \"ZeroPadding\", \"NoPadding\", \"Iso97971\", \"AnsiX923\", \"Iso10126\".\n     *\n     * Default IV is zero filled ArrayBuffer.\n     *\n     * @param {Uint8Array} data\n     * @param {Uint8Array} key\n     * @param {Object} [config]\n     * @param {Uint8Array} [config.iv]\n     * @param {\"CBC\"|\"CFB\"|\"CTR\"|\"OFB\",|\"ECB\"} [config.mode=\"CBC\"]\n     * @param {\"Pkcs7\"|\"ZeroPadding\"|\"NoPadding\"|\"Iso97971\"|\"AnsiX923\"|\"Iso10126\"} [config.padding=\"Pkcs7\"]\n     * @returns {Uint8Array}\n     */\n    static decryptAES(data, key, {iv, mode, padding} = {}) {\n\n        /** Default parameters initialization */\n        iv = iv || new Uint8Array(key.length);\n        mode = mode || \"CBC\";\n        padding = padding || \"Pkcs7\";\n\n        /**\n         * The convert code [*] is from \"crypto-js/lib-typedarrays.js\" file\n         * Note: a \"word\" is a 32 bits big-endian signed integer\n         *\n         * @param {Uint8Array} u8Array // todo use \"u8Array\" name in other files\n         * @returns {CryptoES.lib.WordArray} wordArray\n         * @private\n         */\n        const _arrayBufferToWordArray = function(u8Array) { // todo: remove in the next commit\n            const length = Math.trunc(u8Array.length / 4) + (u8Array.length % 4 ? 1 : 0); // \"round up\" // todo Math.ceil\n            const words = new Array(length);\n            for (let i = 0; i < u8Array.length; i++) {\n                words[i >>> 2] |= u8Array[i] << (24 - (i % 4) * 8); // [*]\n            }\n            return CryptoJS.lib.WordArray.create(words, u8Array.length); // the passing ArrayBuffer works only with CryptoES, not CryptoJS\n        };\n\n        /**\n         * Works more than x3-8 faster! but dependent of the endianness. only little-endian.\n         * @param {Uint8Array} u8Array\n         */\n        const _arrayBufferToWordArray2 = function(u8Array) { // todo: remove in the next commit\n            const length = Math.trunc(u8Array.length / 4) + (u8Array.length % 4 ? 1 : 0);\n            // Note: Uint8Array may be a presentation just of a part of the buffer [!]\n            const u32array = new Int32Array(u8Array.buffer, u8Array.byteOffset, length);\n            const words = new Array(u32array.length);\n            for (let i = 0; i < words.length; i++) { // 255 === 0b00000000_00000000_00000000_11111111\n                words[i] = ((u32array[i] >> 0 & 255) << 24) | ((u32array[i] >> 8 & 255) << 16) | ((u32array[i] >> 16 & 255) << 8) | ((u32array[i] >> 24 & 255) << 0);\n            }\n            return CryptoJS.lib.WordArray.create(words, u8Array.length);\n        };\n\n        /**\n         * A bit slower than v2 (~10 %), but independent of the endianness\n         * @param {Uint8Array} u8Array\n         */\n        const _arrayBufferToWordArray3 = function(u8Array) { // todo: remove in the next commit\n            const length = Math.trunc(u8Array.length / 4) + (u8Array.length % 4 ? 1 : 0);\n            const words = new Array(length);\n            for (let i = 0; i < length; i++) {\n                words[i] = (u8Array[i*4] << 24) | (u8Array[i*4+1] << 16) | (u8Array[i*4+2] << 8) | (u8Array[i*4+3] << 0);\n            }\n            return CryptoJS.lib.WordArray.create(words, u8Array.length);\n        };\n\n\n        /**\n         * THE BEST\n         *\n         * Faster 5-9 times than old one. (x5 for zeros, x9+ for random values)\n         *\n         * Endianness independent.\n         * @param {Uint8Array} u8Array\n         */\n        const _arrayBufferToWordArray4 = function(u8Array) {\n            const length = Math.trunc(u8Array.length / 4) + (u8Array.length % 4 ? 1 : 0);\n            const view = new DataView(u8Array.buffer, u8Array.byteOffset, u8Array.byteLength);\n            const words = new Array(length);\n            for (let i = 0; i < length; i++) {\n                words[i] = view.getInt32(i * 4, false);\n            }\n            return CryptoJS.lib.WordArray.create(words, u8Array.byteLength);\n        };\n\n        const _data = _arrayBufferToWordArray4(data);\n        const _key = _arrayBufferToWordArray4(key);\n        const _iv = _arrayBufferToWordArray4(iv);\n        const plaintextWA = CryptoJS.AES.decrypt( /* (CipherParamsData, WordArray, IBlockCipherCfg) (for CryptoJS) */\n            {\n                ciphertext: _data\n            },\n            _key,\n            {\n                iv: _iv,\n                mode: CryptoJS.mode[mode],\n                padding: CryptoJS.pad[padding]\n            }\n        );\n\n        /**\n         * The convert code [*] is from CryptoJS.enc.Latin1.stringify (\"crypto-js/core.js\")\n         * See CryptoJS.enc.Latin1 stringify()\n         * Note: \"word\" is a 32 bits big-endian signed integer\n         *\n         * @param {CryptoES.lib.WordArray} wordArray\n         * @returns {Uint8Array}\n         * @private\n         */\n        const _wordArrayToArrayBuffer = function(wordArray) { // todo: remove in the next commit\n            const u8Array = new Uint8Array(wordArray.sigBytes);\n            for (let i = 0; i < wordArray.sigBytes; i++) {\n                u8Array[i] = (wordArray.words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff; // [*]\n            }\n            return u8Array;\n        };\n        // THE BEST: 4 times faster\n        const _wordArrayToArrayBuffer2 = function(wordArray) {\n            const {words, sigBytes} = wordArray;\n            const arrayBuffer = new ArrayBuffer(words.length * 4);\n            const view = new DataView(arrayBuffer);\n            for (let i = 0; i < words.length; i++) {\n                view.setInt32(i * 4, words[i], false);\n            }\n            return new Uint8Array(arrayBuffer, 0, sigBytes);\n        };\n\n        return _wordArrayToArrayBuffer2(plaintextWA);\n    }\n}","import Util from \"./util.js\";\nimport Crypto from \"./crypto.js\";\n\n/**\n * The class contains Mega specific static util methods.\n */\nexport default class MegaUtil {\n\n    /**\n     * @param {string} attributesEncoded\n     * @param {Uint8Array} nodeKey\n     * @returns {{name: string, serializedFingerprint: string}}\n     */\n    static parseEncodedNodeAttributes(attributesEncoded, nodeKey) {\n        const attributesEncrypted   = MegaUtil.megaBase64ToArrayBuffer(attributesEncoded);\n        const attributesArrayBuffer = Crypto.decryptAES(attributesEncrypted, nodeKey, {padding: \"ZeroPadding\"});\n        const attributesPlane       = Util.arrayBufferToUtf8String(attributesArrayBuffer);\n\n        const trimmedAttributesPlaneString = attributesPlane.substring(\"MEGA\".length);\n        const {\n            n: name,\n            c: serializedFingerprint // Only for files (not folders)\n        } = JSON.parse(trimmedAttributesPlaneString);\n\n        return {name, serializedFingerprint};\n    }\n\n    /**\n     * @param {string} serializedFingerprint\n     * @returns {{modificationDate: number, fileChecksum: Uint8Array}}\n     */\n    static parseFingerprint(serializedFingerprint) {\n        const fingerprintBytes = MegaUtil.megaBase64ToArrayBuffer(serializedFingerprint);\n\n        const fileChecksum    = fingerprintBytes.subarray(0, 16); // 4 CRC32 of the file [unused]\n        const timeBytesLength = fingerprintBytes[16];             // === 4, and 5 after 2106.02.07 (06:28:15 UTC on Sunday, 7 February 2106)\n        const timeBytes       = fingerprintBytes.subarray(17, 17 + timeBytesLength); // in fact, after this no data is\n\n        // I don't think that it is necessary, but let it be\n        if (timeBytesLength > 5) {\n            throw \"Invalid value: timeBytesLength = \" + timeBytesLength;\n        }\n\n        const modificationDate = Util.arrayBufferToLong(timeBytes);\n\n        return {modificationDate, fileChecksum};\n    }\n\n    /**\n     * {@link https://github.com/gpailler/MegaApiClient/blob/93552a027cf7502292088f0ab25f45eb29ebdc64/MegaApiClient/Cryptography/Crypto.cs#L63}\n     * @param {Uint8Array} decryptedKey\n     * @returns {{iv: Uint8Array, metaMac: Uint8Array, key: Uint8Array}}\n     */\n    static decryptionKeyToParts(decryptedKey) {\n        const iv      = decryptedKey.subarray(16, 24);\n        const metaMac = decryptedKey.subarray(24, 32);\n        const key     = new Uint8Array(16);\n\n        // 256 bits -> 128 bits\n        for (let i = 0; i < 16; i++) {\n            key[i] = decryptedKey[i] ^ decryptedKey[i + 16];\n        }\n\n        return {iv, metaMac, key};\n    }\n\n    /**\n     * {@link https://github.com/gpailler/MegaApiClient/blob/93552a027cf7502292088f0ab25f45eb29ebdc64/MegaApiClient/Cryptography/Crypto.cs#L33}\n     * @param {Uint8Array} encryptedKey a key that need to decrypt\n     * @param {Uint8Array} key a key to decrypt with it\n     * @returns {Uint8Array} decryptionKey\n     */\n    static decryptKey(encryptedKey, key) {\n        const result = new Uint8Array(encryptedKey.length);\n\n        for (let i = 0; i < encryptedKey.length; i += 16) {\n            const block = encryptedKey.subarray(i, i + 16);\n            const decryptedBlock = Crypto.decryptAES(block, key, {padding: \"NoPadding\"}); // \"NoPadding\" – for the case when the last byte is zero (do not trim it)\n            result.set(decryptedBlock, i);\n        }\n\n        return result;\n    }\n\n    // ----------------------------------------------------------------\n\n    /**\n     * Transform Mega Base64 format to normal Base64\n     *   \"AWJuto8_fhleAI2WG0RvACtKkL_s9tAtvBXXDUp2bQk\"\n     *   ->\n     *   \"AWJuto8/fhleAI2WG0RvACtKkL/s9tAtvBXXDUp2bQk=\"\n     * @param {string} megaBase64EncodedStr\n     * @returns {string}\n     */\n    static megaBase64ToBase64(megaBase64EncodedStr) {\n        /** @param {string} megaBase64EncodedStr\n         *  @returns {number}\n         *  @private  */\n        function _getPaddingLengthForMegaBase64(megaBase64EncodedStr) {\n            /**\n             * Base64 padding's length is \"1\", \"2\" or \"0\" because of the \"block\" size has at least \"2\" chars.\n             * So a string's length is multiple of \"4\".\n             * Check the tables:\n             *     https://en.wikipedia.org/wiki/Base64#Examples\n             */\n            try {\n                \n           \n            const paddingLength = (4 - megaBase64EncodedStr.length % 4) % 4;\n            if (paddingLength === 3) {\n                throw {name: \"IllegalArgumentException\", message: \"Wrong Mega Base64 string\"};\n            }\n            return paddingLength;\n            } catch (error) {\n                return 100\n            }\n        }\n\n        const paddingLength = _getPaddingLengthForMegaBase64(megaBase64EncodedStr);\n        const result = megaBase64EncodedStr + \"=\".repeat(paddingLength);\n        return result.replace(/-/g, \"+\")\n                     .replace(/_/g, \"/\");\n    }\n\n    /**\n     * @param {string} megaBase64\n     * @returns {Uint8Array}\n     */\n    static megaBase64ToArrayBuffer(megaBase64) {\n        const base64 = MegaUtil.megaBase64ToBase64(megaBase64);\n        return Util.base64ToArrayBuffer(base64);\n    }\n\n    /**\n     * @param {string} base64EncodedStr\n     * @return {string}\n     */\n    static base64ToMegaBase64(base64EncodedStr) {\n        return base64EncodedStr.replace(/=/g,  \"\")\n                               .replace(/\\+/g, \"-\")\n                               .replace(/\\//g, \"_\");\n    }\n\n    /**\n     * @param {Uint8Array} arrayBuffer\n     * @return {string}\n     */\n    static arrayBufferToMegaBase64(arrayBuffer) {\n        const binaryString = Util.arrayBufferToBinaryString(arrayBuffer);\n        const base64 = Util.binaryStringToBase64(binaryString);\n        return MegaUtil.base64ToMegaBase64(base64);\n    }\n\n    /**\n     * @param {string} megaBase64\n     * @returns {string}\n     */\n    static megaBase64ToBinaryString(megaBase64) {\n        const base64 = MegaUtil.megaBase64ToBase64(megaBase64);\n        return Util.base64ToBinaryString(base64);\n    }\n\n    // ----------------------------------------------------------------\n\n    /**\n     * Format bytes to human readable format like it do Mega.nz\n     * {@link https://github.com/meganz/webclient/blob/8e867f2a33766872890c462e2b51561228c056a0/js/functions.js#L298}\n     *\n     * (Yeah, I have rewrote this)\n     * @see Util.bytesToSize\n     * @param {number} bytes\n     * @param {number} [decimals]\n     * @returns {string}\n     */\n    static bytesToSize(bytes, decimals) {\n        if (bytes === 0) {\n            return \"0 B\";\n        }\n        const k = 1024;\n        if (!decimals) {\n            if (bytes > Math.pow(k, 3)) {        // GB\n                decimals = 2;\n            } else if (bytes > Math.pow(k, 2)) { // MB\n                decimals = 1;\n            }\n        }\n        const sizes = [\"B\", \"KB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\n        const i = Math.floor(Math.log(bytes) / Math.log(k));\n        return (bytes / Math.pow(k, i)).toFixed(decimals) + \" \" + sizes[i];\n    }\n}\n","import {fetch} from \"megajs2/src/browser-context.js\";\nimport Util from \"megajs2/src/util.js\";\nimport MegaUtil from \"megajs2/src/mega-util.js\";\nimport {Semaphore} from \"megajs2/src/synchronization.js\";\nimport GroupedTasks from \"megajs2/src/grouped-tasks.js\";\n\nexport default class MegaApi {\n\n    static encryptedName = false; // If true, return \"████\" names instead of `null`, when no key is provided.\n\n    static apiGateway = \"https://g.api.mega.co.nz/cs\";\n    static grouped = true;\n\n    static errorRepeatCount = 5;\n    static errorRepeatDelay = 5000;\n    /**\n     * @param {function} executable - an async function to repeat if it throws an exception\n     * @param {number} count=5 - count of the repeats\n     * @param {number} delay=5000 - ms to wait before repeating\n     * @return {Promise<*>}\n     */\n    static repeatIfErrorAsync(executable, count = MegaApi.errorRepeatCount, delay = MegaApi.errorRepeatDelay) {\n        return Util.repeatIfErrorAsync(executable, count, delay);\n    }\n\n    static ssl = 2; // Is there a difference between \"1\" and \"2\" [???]\n    /**\n     * Max parallel requests count that Mega allows for API access are `63` within ~4 seconds.\n     * If you perform more than 63 connection within ~4 seconds:\n     * Fetch error (reason: write EPROTO) will happen (not a big problem, the request will be repeated)\n     *\n     * Example values: (63, 4000);   (12, 650);   (2, 0);\n     */\n    static semaphore = new Semaphore(16, 1000);\n\n    /**\n     * @extends {GroupedTasks<String, Object, Object>}\n     * @private\n     */\n    static RequestApiGrouped = class extends GroupedTasks {\n        async handle(entriesHolder) {\n            const url = entriesHolder.key;\n\n            const entries = entriesHolder.pull();\n            const payloads = [];\n            for (const entry of entries) {\n                payloads.push(entry.getValue());\n            }\n\n            const responseArray = await MegaApi.requestApiSafe(url, payloads);\n            //console.log(\"[grouped request]\", responseArray);\n\n            entries.forEach((entry, index) => {\n                entry.resolve(responseArray[index]);\n            });\n        }\n    }\n    /** @private */\n    static requestApiGrouped = new MegaApi.RequestApiGrouped();\n\n    /**\n     * @param {*} payload\n     * @param {*} [searchParams]\n     * @param {boolean} [grouped]\n     * @returns {Promise<*>} responseData\n     */\n    static async requestApi(payload, searchParams = {}, grouped = MegaApi.grouped) {\n        const _url = new URL(MegaApi.apiGateway);\n        Util.addSearchParamsToURL(_url, searchParams);\n        const url = _url.toString();\n\n        if (grouped) {\n            return MegaApi.requestApiGrouped.getResult({\n                    key: url,\n                    value: payload\n                });\n        }\n        return (await MegaApi.requestApiSafe(url, [payload]))[0];\n    }\n\n    /**\n     * Note: If you move `semaphore` inside `requestApi` or `repeatIfErrorAsync`, then in case an error\n     * the repeating request will be added at the end of queue of `semaphore`\n     * @param {string|URL} url\n     * @param {Object[]} payloads\n     * @return {Promise<*[]>}\n     * @private\n     */\n    static async requestApiSafe(url, payloads) {\n        await MegaApi.semaphore.acquire();\n        try {\n            const response = await MegaApi.repeatIfErrorAsync(_ => MegaApi.requestApiUnsafe(url, payloads));\n            return MegaApi.apiErrorHandler(response); // todo Retry if -3 exception\n        } finally { // if an exception happens more than `count` times, or the error code was returned\n            MegaApi.semaphore.release();\n        }\n    }\n\n    /**\n     * Returns an array with one item (multiple request are not implemented), or an error code (number)\n     *\n     * An exception may be thrown by `fetch`, for example, if you perform to many connections\n     * or `json()` when Mega returns an empty string (if the server returns code 500)\n     *\n     * @param {string|URL} url\n     * @param {Object[]} payloads\n     * @return {Promise<*[]>}\n     * @private\n     */\n    static async requestApiUnsafe(url, payloads) {\n        const response = await fetch(url, {\n            method: \"post\",\n            body: JSON.stringify(payloads),\n            referrerPolicy: \"strict-origin-when-cross-origin\"\n        });\n\n        if (response.status === 500) {\n            throw Error(\"ERR_ABORTED 500 (Server Too Busy)\"); // to do not parse the empty string\n        } else if (response.status !== 200) {\n            console.error(\"[response.status]\", response.status);\n        }\n\n        const text = await response.text();\n        //console.log(\"[api-response-text]\", text);\n        return JSON.parse(text);\n    }\n\n    /** @private */\n    static apiErrorHandler(response) {\n        if (Array.isArray(response)) { //todo for file links it is _in an array_\n            return response;\n        } else {\n            // todo v2 api error response\n            // todo create separate method to handle all errors\n            // https://mega.nz/doc\n            if (response === -9) {\n                throw new Error(\"ERROR CODE: -9. NOT FOUND\");\n            } else if (response === -16) {\n                throw new Error(\"ERROR CODE: -16. USER IS BLOCKED\");\n            } else if (response === -3) {\n                throw new Error(\"ERROR CODE: -3. AGAIN\");\n                //  A temporary congestion or server malfunction prevented your request from being processed.\n                //  No data was altered. Retry.\n                //  Retries must be spaced with exponential backoff. //todo\n            } else {\n                throw new Error(\"ERROR CODE: \" + response); // `response` is a number like this: `-9`\n            }\n        }\n    }\n\n    // ----------------------------------------------------------------\n\n    /**\n     * @param {FileAttribute} fileAttribute\n     * @param {string} fileAttribute.id - file attribute ID\n     * @param {number} fileAttribute.type - file attribute type\n     * @return {Promise<string>}\n     */\n    static async requestFileAttributeDownloadUrl({id, type}) {\n        console.log(\"Request download url...\");\n        const responseData = await MegaApi.requestApi({\n            \"a\": \"ufa\",    // action (command): u [???] file attribute\n            \"fah\": id,     // `h` means handler(hash, id)\n            \"ssl\": MegaApi.ssl,\n            \"r\": 1         // r [???] – It adds \".\" in response url (without this dot the url does not work)\n        });\n\n        //todo if [{\"p\":\"https://gfs302n203.userstorage.mega.co.nz/.yWdyTeW\",\"p0\":\"https://gfs270n873.userstorage.mega.co.nz/.Uy96JeV\"}]\n        return responseData[\"p\"] + \"/\" + type;\n    }\n\n\n    // todo add semaphore, not more than 31 (included) connections for each url (of bunch)\n    //  to test it, use `Thumbnail.getEncryptedBytes(..., false)` <- \"false\"\n    //  in some kind it is implemented in `FileAttributeBytes.DlBytesRequests`\n    /**\n     * @param {string} url\n     * @param {string|string[]} ids\n     * @returns {Promise<Uint8Array>} responseBytes\n     * @throws ETIMEDOUT, ECONNRESET\n     */\n    static async requestFileAttributeBytes(url, ids) {\n        /** @type Uint8Array */\n        let selectedIdsBinary;\n\n        if (Array.isArray(ids)) {\n            selectedIdsBinary = new Uint8Array(ids.length * 8);\n            for (let i = 0; i < ids.length; i++) {\n                selectedIdsBinary.set(MegaUtil.megaBase64ToArrayBuffer(ids[i]), i * 8);\n            }\n        } else {\n            selectedIdsBinary = MegaUtil.megaBase64ToArrayBuffer(ids);\n        }\n\n        /** Sometimes it can throw `connect ETIMEDOUT` or `read ECONNRESET` exception */\n        const callback = async () => {\n            console.log(\"Downloading content... \");\n            const response = await fetch(url, {\n                method: \"post\",\n                body: selectedIdsBinary,\n                headers: {\n                    // It's important for `node-fetch` (Node.js)\n                    // But it is not needed in a browser\n                    \"connection\": \"keep-alive\"\n                },\n                referrerPolicy: \"strict-origin-when-cross-origin\"\n            });\n            if (response.status !== 200) {\n                console.error(\"[response.status]\", response.status);\n            }\n            return new Uint8Array(await response.arrayBuffer());\n        };\n        const responseBytes = await MegaApi.repeatIfErrorAsync(callback);\n        console.log(\"[downloaded]\", responseBytes.length, \"bytes\");\n        return responseBytes;\n    }\n\n    // ----------------------------------------------------------------\n\n    /**\n     * @param {string} shareId\n     * @returns {Promise<{size: number, nodeAttributesEncoded: string,\n     *           downloadUrl: string, timeLeft: number, EFQ: number, MSD: number, fileAttributesStr?: string}>} nodeInfo\n     */\n    static async requestNodeInfo(shareId) {\n        const responseData = await MegaApi.requestApi({\n            \"a\": \"g\",        // Command type\n            \"p\": shareId,    // Content ID\n            \"g\": 1,          // The download link\n            //\"v\": 2,        // Multiple links for big files\n            \"ssl\": MegaApi.ssl  // HTTPS for the download link\n        });\n        //console.log(\"[responseData]\", responseData);\n\n        const prettyResponse = {\n            size:                  responseData[\"s\"],\n            nodeAttributesEncoded: responseData[\"at\"],  // Node attributes (name, hash (file fingerprint) -> mtime)\n\n            // If \"g\" is specified:\n            downloadUrl:           responseData[\"g\"],\n            timeLeft:              responseData[\"tl\"],  // Time to wait of the reset of bandwidth quota.\n                                                        // `0` seconds if quota is not exceeded\n                                                        // (It looks it is the new parameter added\n                                                        //                             at the beginning of March 2020)\n            // Useless properties: [unused]\n            EFQ:                   responseData[\"efq\"], // `1` – Something about the Quota – Quota enforcement?  [???]\n            MSD:                   responseData[\"msd\"]  // `1` – \"MegaSync download\"                             [???]\n        };\n\n        if (responseData[\"fa\"]) {\n            // File attributes (a thumbnail, a preview, [a video meta info])\n            // Only for an image or a video\n            prettyResponse.fileAttributesStr = responseData[\"fa\"];\n        }\n\n        return prettyResponse;\n    }\n\n    // The logic of nodes order that Mega returns looks like it is:\n    // The first node is root node,\n    // the next: root node children sorted by creationDate (folders have the same priority as files),\n    // the next: nodes (also sorted by creationDate) of each folder,\n    //              these folder iterates from last one to the first (like a stack works). And etc.\n    //\n    // So, a folder node is always located before the nodes that are inside it,       <-- [important]\n    // all nodes with the same parent are listed one by one in creationDate order,\n    // one level folders iterates in reverse order to `print` their children.\n    static async requestFolderInfo(shareId) {\n        const responseData = await MegaApi.requestApi({\n            \"a\": \"f\",\n            \"r\":  1, // Recursive (include sub folders/files) // if not set only root node and 1th lvl file/folder nodes\n            \"c\":  1, // [???][useless]\n            \"ca\": 1, // [???][useless]\n        }, {\n            \"n\": shareId\n        });\n        //console.log(\"[responseData]\", responseData);\n\n        const {\n            f: rawNodes, // array of file and folder nodes\n            sn, // [???][unused] // \"McPlUF51ioE\" [random]\n            noc // [???][unused] // \"1\"\n        } = responseData;\n\n\n        function _getShareRootNodeId(rawNodes) {\n            // Every node has a prefix in its `k` value – `shareRootNodeId:decryptionKey`\n            const firstNode = rawNodes[0];\n            const id = firstNode[\"k\"].match(/^[^:]+/)[0];\n\n            // In fact the first node is the share root\n            // Recheck:\n            if (id !== firstNode[\"h\"]) {\n                console.warn(\"ShareRootNodeId does not equal to id of the first node.\");\n            }\n\n            return id;\n        }\n\n        const shareRootNodeId = _getShareRootNodeId(rawNodes);\n        //console.log(\"[shareRootNodeId]\", shareRootNodeId);\n\n\n        function _prettifyType(type) {\n            switch (type) {\n                case  0: return \"file\";\n                case  1: return \"folder\";\n                default: return type;\n            }\n        }\n\n        function _parseKeyFromNode(node) {\n            const decryptionKeyStr = node[\"k\"];\n            // a missing key (an empty string), it's very rarely, but it can be\n            if (decryptionKeyStr === \"\") {\n                console.log(\"A missed key!\", node);\n                return null;\n            }\n            return decryptionKeyStr.match(/(?<=:)[\\w-_]+/)[0];\n        }\n\n        function _prettifyNodes(rawNodes) {\n            return rawNodes.map(node => {\n                const prettyNode = {\n                    id: node[\"h\"],\n                    parentId: node[\"p\"],\n                    ownerId: node[\"u\"],\n                    type: _prettifyType(node[\"t\"]),\n                    attributes: node[\"a\"],\n                    decryptionKeyStr: _parseKeyFromNode(node), // from node[\"k\"]\n                    creationDate: node[\"ts\"], // (timestamp)\n                };\n                if (prettyNode.type === \"file\") {\n                    prettyNode.size = node[\"s\"];\n                    if (node[\"fa\"]) { // only for images and videos\n                        prettyNode.fileAttributesStr = node[\"fa\"];\n                    }\n                }\n                return prettyNode;\n            });\n        }\n\n        return {nodes: _prettifyNodes(rawNodes), rootId: shareRootNodeId};\n    }\n\n}\n","/**\n * @typedef {Function} Resolve\n */\n\n/** @template K, V, R */\nclass SimpleEntry {\n    /** @type {function(Resolve): void} */\n    resolve;\n\n    /**\n     * @param {K} key - group criterion\n     * @param {V} value\n     * @param {Resolve} resolve\n     * @param {Function} reject\n     */\n    constructor(key, value, resolve, reject) {\n        this.key     = key;\n        this.value   = value;\n        this.resolve = resolve;\n        this.reject  = reject;\n    }\n\n    /** @return {K} */\n    getKey() {\n        return this.key;\n    }\n\n    /** @return {V} */\n    getValue() {\n        return this.value;\n    }\n\n    /**\n     * Override if you implement `getResult()`\n     * @default\n     * @return {boolean}\n     */\n    needHandle() {\n        return true;\n    }\n\n    /**\n     * @abstract\n     * @return {R}\n     */\n    getResult() {\n        throw \"SimpleEntry.getResult() method does not implemented\";\n    }\n}\n\n/** @template K, V, R */\nclass EntriesHolder {\n    /** @type {K} */\n    key;\n    /** @type {SimpleEntry<K, V, R>} */\n    first;\n\n    /**\n     * @param {K} entryKey\n     * @param {SimpleEntry<K, V, R>} firstEntry\n     * @param {GroupedTasks<K, V, R>} groupedTasks\n     */\n    constructor(entryKey, firstEntry, groupedTasks) {\n        this.key = entryKey;\n        this.first = firstEntry;\n        this.groupedTasks = groupedTasks;\n    }\n\n    /** @return {SimpleEntry<K, V, R>[]} */\n    pull() {\n        return this.groupedTasks.pullEntries(this.key);\n    }\n\n    /**\n     * If passed `0` - no splitting\n     * @param count\n     * @return {Generator<SimpleEntry<K, V, R>[]>}\n     */\n    parts(count) {\n        return this.groupedTasks.pullParts(this.key, count);\n    }\n}\n\n/**\n * @template K, V, R\n * @abstract\n */\nclass GroupedTasks {\n\n    /**\n     * @param {SimpleEntry<K, V, R>} entryClass\n     * @param {Function} delayStrategy\n     */\n    constructor({entryClass, delayStrategy} = {}) {\n        this.entryClass = entryClass || GroupedTasks.SimpleEntry;\n        this.delayStrategy = delayStrategy || GroupedTasks.execute.afterDelayWithMicroTask;\n    }\n\n    /**\n     * @type {Class<SimpleEntry<K, V, R>>}\n     */\n    static SimpleEntry = SimpleEntry;\n\n    /**\n     * @type Map<K, SimpleEntry<K, V, R>[]>\n     * @private\n     */\n    queue = new Map();\n\n    /**\n     * @param {Object} init\n     * @param {K?} init.key\n     * @param {V?} init.value\n     * @return {Promise<R>}\n     */\n    getResult({key, value}) {\n        return new Promise((resolve, reject) => {\n            const entry = new this.entryClass(key, value, resolve, reject);\n            if (entry.needHandle()) {\n                this.enqueue(entry);\n            } else {\n                resolve(entry.getResult());\n            }\n        });\n    }\n\n    /**\n     * @param {SimpleEntry<K, V, R>} entry\n     * @private\n     */\n    enqueue(entry) {\n        const entryKey = entry.getKey();\n        if (!this.queue.has(entryKey)) {\n            this.queue.set(entryKey, []);\n            this.delayStrategy(() => {\n                this.handle(new EntriesHolder(entryKey, entry, this))\n                    .catch(entry.reject);\n            });\n        }\n        this.queue.get(entryKey).push(entry);\n    }\n\n    /**\n     * @param {K} key\n     * @return {SimpleEntry<K, V, R>[]}\n     */\n    pullEntries(key) {\n        const array = this.queue.get(key);\n        this.queue.delete(key);\n        return array;\n    }\n\n    /**\n     * @param {K} key\n     * @param {Number} count\n     * @return {Generator<SimpleEntry<K, V, R>[]>}\n     */\n    *pullParts(key, count) {\n        const array = this.pullEntries(key);\n\n        if (!count) {\n            yield array;\n        } else {\n            let pos = 0;\n            while (pos < array.length) {\n                yield array.slice(pos, pos + count);\n                pos += count;\n            }\n        }\n    }\n\n    /**\n     * @abstract\n     * @param {EntriesHolder<K, V, R>} entriesHolder\n     * @return {Promise<void>}\n     */\n    async handle(entriesHolder) {}\n\n    /** Contains methods to delay the execution of the passed callback */\n    static execute = class {\n        static now(executable) {\n            executable();\n        }\n        static afterDelayWithMicroTask(executable){ // Delay execution with micro task queue\n            Promise.resolve().then(executable);\n        }\n        static afterDelayWithEventLoop(executable){\n            setImmediate ? setImmediate(executable) : setTimeout(executable, 0);\n        }\n        static afterDelay(executable, ms = 0){\n            setTimeout(executable, ms);\n        }\n    }\n}\n\nexport default GroupedTasks;\nexport {GroupedTasks, SimpleEntry};","import {performance} from \"./browser-context.js\";\nimport Util from \"./util.js\";\n\nexport class Semaphore {\n    /**\n     * By default works like a mutex\n     * @param {number} limit - the max count of parallel executions\n     * @param {number} time  - the time within which does not allowed to perform more than `limit` operations. (ms)\n     */\n    constructor(limit = 1, time = 0) {\n        this.limit = limit;\n        this.delay = time;\n    }\n\n    /** @type {number} - the count of active parallel executions */\n    active = 0;\n    /** @type {(function: void)[]} - resolve functions of enqueued executions */\n    pending = [];\n    /** @type {number[]} - finish times of completed executions (it's used when there is no enqueued executions) */\n    completeTimes = [];\n\n    /** @return {Promise<void>} */\n    async acquire() {\n        if (this.isDisabled) {\n            return;\n        }\n\n        const completed = this.completeTimes.length;\n        if (completed > 0 && completed === this.limit - this.active) {\n            const time = this.delay - (performance.now() - this.completeTimes.shift());\n            console.log(\"completed: \" + completed + \", active: \" + this.active + \", wait: \" + time);\n            await Util.sleep(time);\n        }\n\n        if (this.active < this.limit) {\n            this.active++;\n            return;\n        }\n\n        return new Promise(resolve => {\n            this.pending.push(resolve);\n        });\n    }\n\n    /**\n     * Recommendation: release in a finally block.\n     */\n    release() {\n        // Just do not return a Promise\n        this._release().then(/*ignore promise*/);\n    }\n\n    /** @private */\n    async _release() {\n        if (this.isDisabled) {\n            return;\n        }\n\n        if (this.active > 0) {\n            this.active--;\n\n            if (this.pending.length > 0) {\n                const resolve = this.pending.shift();\n                this.active++;\n                await Util.sleep(this.delay);\n                resolve();\n            } else if (this.delay > 0) {\n                this.completeTimes.push(performance.now());\n            }\n        } else {\n            console.warn(\"[Semaphore] over released\"); // a possible error is in a code\n        }\n    }\n\n    /**\n     * Note (It's important, in other case the semaphore will not work):\n     * When you want to limit the parallel execution count of an async function\n     * use `return` statement in the \"executable\" callback,\n     * or use `await` statement in the \"executable\" callback if you do not need the result.\n     *\n     * @example\n     * const semaphore = new Semaphore(4);\n     * for (const value of values) {\n     *      semaphore.sync(() => {\n     *          return handle(value);\n     *      }).then(console.log); // result of `handle`\n     * }\n     * @example\n     * const semaphore = new Semaphore(4);\n     * for (const value of values) {\n     *      semaphore.sync(async () => {\n     *          await handle(value);\n     *      }).then(console.log); // `undefined`\n     * }\n     *\n     * @param {function(): Promise<*>} executable\n     * @return {Promise<*>}\n     */\n    async sync(executable) {\n        try {\n            await this.acquire();\n            return await executable();\n        } finally {\n            this.release();\n        }\n    }\n\n    /**\n     * Release all waiters without any delay\n     */\n    releaseAll() {\n        while (this.pending.length) {\n            const resolve = this.pending.shift();\n            resolve();\n        }\n        this.active = 0;\n        this.completeTimes = [];\n    }\n\n    _limit;\n    _delay;\n\n    set limit(value) {\n        if (value < 1) {\n            this._limit = 1;\n        } else {\n            this._limit = value;\n        }\n    }\n\n    get limit() {\n        return this._limit;\n    }\n\n    set delay(value) {\n        if (value < 0) {\n            this._delay = 0;\n        } else {\n            this._delay = value;\n        }\n    }\n\n    get delay() {\n        return this._delay;\n    }\n\n    isDisabled = false;\n\n    disable(releaseAll = true) {\n        if (releaseAll) {\n            this.releaseAll();\n        }\n        this.isDisabled = true;\n    }\n\n    enable() {\n        this.isDisabled = false;\n    }\n\n    /**\n     * Static factory method, works as constructor.\n     * Returns the disabled semaphore.\n     * Pass it to a code that expect a semaphore, but you do not need it.\n     */\n    static disabled(max = 1, delay = 0) {\n        const semaphore = new Semaphore(max, delay);\n        semaphore.disable();\n        return semaphore;\n    }\n}\n\nexport class CountDownLatch {\n    _count;\n    _promise;\n    _resolve;\n\n    /** @param {number} count */\n    constructor(count = 0) {\n        this._count = count;\n        if (count > 0) {\n            this._promise = new Promise(resolve => {\n                this._resolve = resolve;\n            });\n        } else {\n            this._promise = Promise.resolve();\n        }\n    }\n\n    countDown() {\n        if (this._count > 0) {\n            this._count--;\n            if (this._count === 0) {\n                this._resolve();\n            }\n        }\n    }\n\n    /** @return {Promise<void>} */\n    wait() {\n        return this._promise;\n    }\n\n    /** @return {boolean} */\n    get released() {\n        return this._count > 0;\n    }\n\n    release() {\n        this._count = 0;\n        this._resolve();\n    }\n}\n\nexport class CountUpAndDownLatch extends CountDownLatch {\n    countUp() {\n        if (this._count === 0) {\n            this._promise = new Promise(resolve => {\n                this._resolve = resolve;\n            });\n        }\n        this._count++;\n    }\n}\n\nexport default {Semaphore, CountDownLatch, CountUpAndDownLatch};","import Util from \"./util.js\";\nimport Crypto from \"./crypto.js\";\nimport MegaUtil from \"./mega-util.js\";\nimport MegaApi from \"./mega-api.js\";\nimport GroupedTasks from \"./grouped-tasks.js\";\nimport {Semaphore} from \"./synchronization.js\";\n\n/**\n * The interface of a media file node\n * @typedef {{fileAttributesStr: string, key?: Uint8Array}} IMediaNodeSimple\n */\n\n/**\n * @typedef IMediaGettersMixin\n * @property {FileAttribute} thumbnail\n * @property {FileAttribute} preview\n * @property {function(): Promise<Uint8Array>} getThumbnail\n * @property {function(): Promise<Uint8Array>} getPreview\n */\n\n/**\n * @typedef {IMediaNodeSimple & IMediaGettersMixin} IMediaNode\n */\n\n/**\n *\n */\nclass FileAttribute {\n    /** @type {string} */\n    id;\n    /** @type {number} */\n    type;\n    /** @type {Bunch} */\n    bunch;\n\n    /**\n     * @param {string} id - `id`, or `handler` as Mega names it\n     * @param {number|*} type - 0 – thumbnail, 1 - preview, 8 - ..., 9 - ...\n     * @param {number|*} bunch - Attributes with the same bunch number can be requested within one API request\n     */\n    constructor(id, type, bunch) {\n        this.id = id;\n        this.type = Number(type);\n        this.bunch = Bunch.of(Number(bunch));\n    }\n\n    /**\n     * @param {boolean} cached=true\n     * @return {Promise<string>}\n     */\n    getDownloadUrl(cached = true) {\n        if (!Types.hasBytes(this)){\n            return null;\n        }\n        return this.bunch.getDownloadUrl(this, cached);\n    }\n\n    toString() {\n        return this.bunch + \":\" + this.type + \"*\" + this.id;\n    }\n}\n\nclass Bunch {\n    /** @type {Number} */\n    id;\n\n    downloadUrl = null;\n\n    /**\n     * The holder of the instances of this class.\n     * @private\n     * @type {Map<number, Bunch>}\n     */\n    static values = new Map();\n\n    /**\n     * Use `of` method to get an instance.\n     * @private\n     * @param {number} bunch\n     */\n    constructor(bunch) {\n        this.id = Number(bunch);\n    }\n\n    toString() {\n        return this.id.toString();\n    }\n\n    /**\n     * @param {number} bunch\n     * @return {Bunch}\n     */\n    static of(bunch) {\n        if (Bunch.values.has(bunch)) {\n            return Bunch.values.get(bunch);\n        }\n        const _bunch = new Bunch(bunch);\n        Bunch.values.set(bunch, _bunch);\n        return _bunch;\n    }\n\n    /**\n     * @param {FileAttribute} fileAttribute\n     * @param {boolean} cached=true\n     * @return {Promise<string>}\n     */\n    async getDownloadUrl(fileAttribute, cached = true) {\n        if (cached && this.hasDownloadUrl) {\n            return this.downloadUrl;\n        }\n        const url = await MegaApi.requestFileAttributeDownloadUrl(fileAttribute);\n        //todo urls\n        this.downloadUrl = url;\n        return url;\n    }\n    get hasDownloadUrl() {\n        return Boolean(this.downloadUrl);\n    }\n    get downloadUrl() {\n        return this.downloadUrl;\n    }\n}\n\nclass Types {\n    static thumbnail = 0;\n    static preview   = 1;\n\n    /**\n     * @param {FileAttribute} fileAttribute\n     * @return {boolean}\n     */\n    static hasBytes(fileAttribute) {\n        return fileAttribute.type === Types.preview || fileAttribute.type === Types.thumbnail;\n    }\n}\n\nexport class FileAttributeBytes {\n    static cached = true;\n    static grouped = true\n\n    /** @type {number} */ //todo use Types?\n    type;\n\n    get type() {\n        return this.type;\n    }\n\n    constructor(type) {\n        this.type = type;\n    }\n\n    /**\n     * @extends {GroupedTasks<Number, FileAttribute, String>}\n     */\n    static DlUrlRequests = class extends GroupedTasks {\n        async handle(entriesHolder) {\n            const fileAttribute = entriesHolder.first.getValue();\n            const result = await fileAttribute.getDownloadUrl();\n\n            for (const entry of entriesHolder.pull()) {\n                entry.resolve(result);\n            }\n        }\n\n        /** @type {Class<!GroupedTasks.SimpleEntry<Number, FileAttribute, String>>} */\n        static RequestDlUrlEntry = class extends GroupedTasks.SimpleEntry {\n            /** @return {boolean} */\n            needHandle() {\n                return !this.getValue().bunch.hasDownloadUrl;\n            }\n            /** @return {String} */\n            getResult() {\n                return this.getValue().bunch.downloadUrl;\n            }\n            /** @return {number} */\n            getKey() {\n                return this.getValue().bunch.id;\n            }\n        }\n    }\n    static dlUrlRequests = new FileAttributeBytes.DlUrlRequests({\n        entryClass: FileAttributeBytes.DlUrlRequests.RequestDlUrlEntry,\n        delayStrategy: GroupedTasks.execute.now\n    });\n\n    /**\n     * @param options\n     * @param {FileAttribute} [options.fileAttribute]\n     * @param {IMediaNode} [options.node]\n     * @param {boolean} cached=true - do not request the new URL, if already there is one, experimental use only\n     * @return {Promise<string>} downloadUrl\n     */\n    getDownloadUrl({fileAttribute, node}, cached = FileAttributeBytes.cached) {\n        const _fileAttribute = fileAttribute || FileAttributes.of(node).byType(this.type);\n        if (cached) {\n            return FileAttributeBytes.dlUrlRequests.getResult({\n                    value: _fileAttribute\n                });\n        }\n        return _fileAttribute.getDownloadUrl(false);\n    }\n\n    /**\n     * Split a grouped request (of file attribute bytes) to grouped requests of 16 requests in each.\n     * Up to 16 parallel downloading for a chunk.\n     * @extends {GroupedTasks<String, String, Uint8Array>}\n     */\n    static DlBytesRequests = class extends GroupedTasks {\n        async handle(entriesHolder) {\n            const downloadUrl = entriesHolder.key;\n\n            const semaphore = new Semaphore(16); // do not use more than 31\n            for (const entries of entriesHolder.parts(16)) { // use `0` to disable splitting\n                semaphore.sync(() => {\n                    return this.handlePart(downloadUrl, entries);\n                }).then(/*ignore promise*/);\n            }\n        }\n\n        /** @private */\n        async handlePart(downloadUrl, entries) {\n            /**\n             * Maps fileAttributeId to resolves\n             * (different nodes may have the same file attribute)\n             * @type {Map<string, Resolve[]>}\n             */\n            const map = new Map();\n\n            for (const entry of entries) {\n                const fileAttributeId = entry.getValue();\n                if (!map.has(fileAttributeId)) {\n                    map.set(fileAttributeId, []);\n                }\n                map.get(fileAttributeId).push(entry.resolve);\n            }\n\n            const fileAttrIDs = [...map.keys()];\n            const generator = FileAttributeBytes.fileAttributeBytes(downloadUrl, fileAttrIDs);\n            for await (const {id, dataBytes} of generator) {\n                const resolvers = map.get(id);\n                for (const resolve of resolvers) {\n                    resolve(dataBytes);\n                }\n            }\n        }\n    }\n    static dlBytesRequests = new FileAttributeBytes.DlBytesRequests();\n\n    /**\n     * @param options\n     * @param {FileAttribute} [options.fileAttribute]\n     * @param {string} [options.downloadUrl]\n     * @param {IMediaNode} [options.node]\n     * @param {boolean} grouped=true - with `false` it may work a bit faster, but extremely increases\n     * the connection count – one per each file attribute, currently there is no limitation of connection count\n     * in the code (a semaphore), but Mega handles 136 connections at one moment normally\n     * @return {Promise<Uint8Array>} encryptedBytes\n     */\n    async getEncryptedBytes({fileAttribute, downloadUrl, node}, grouped = FileAttributeBytes.grouped) {\n        const _fileAttribute = fileAttribute || FileAttributes.of(node).byType(this.type);\n        const _downloadUrl = downloadUrl || await this.getDownloadUrl({fileAttribute: _fileAttribute});\n\n        if (grouped) {\n            return FileAttributeBytes.dlBytesRequests.getResult({\n                key: _downloadUrl,\n                value: _fileAttribute.id\n            });\n        }\n\n        const responseBytes = await MegaApi.requestFileAttributeBytes(_downloadUrl, _fileAttribute.id);\n        return FileAttributeBytes.parseBytes(responseBytes).dataBytes;\n    }\n\n    /**\n     * @param {string} downloadUrl\n     * @param {string[]} fileAttrIDs\n     * @return {AsyncGenerator<{dataBytes: Uint8Array, id: string}>}\n     */\n    static async *fileAttributeBytes(downloadUrl, fileAttrIDs) {\n        const responseBytes = await MegaApi.requestFileAttributeBytes(downloadUrl, fileAttrIDs);\n\n        for (let i = 0, offset = 0; i < fileAttrIDs.length; i++) {\n            const {id, dataBytes} = FileAttributeBytes.parseBytes(responseBytes, offset);\n            yield {id, dataBytes};\n            offset += 12 + dataBytes.length;\n        }\n    }\n\n    /** @private */\n    static parseBytes(bytes, offset = 0) {\n        const idBytes     = bytes.subarray(offset,      offset +  8);\n        const lengthBytes = bytes.subarray(offset + 8,  offset + 12);\n        const length      = Util.arrayBufferToLong(lengthBytes);\n        const dataBytes   = bytes.subarray(offset + 12, offset + 12 + length);\n        const id          = MegaUtil.arrayBufferToMegaBase64(idBytes);\n        return {id, dataBytes};\n    }\n\n    /**\n     * @param options\n     * @param {FileAttributes} [options.fileAttributes]\n     * @param {Uint8Array} [options.encryptedBytes]\n     * @param {IMediaNode} [options.node]\n     * @param {string} [options.downloadUrl]\n     * @return {Promise<Uint8Array>}\n     */\n    async getBytes({fileAttributes, encryptedBytes, node, downloadUrl}) {\n        const _fileAttributes = fileAttributes || FileAttributes.of(node);\n        const fileAttribute = _fileAttributes.byType(this.type);\n        const _encryptedBytes = encryptedBytes || await this.getEncryptedBytes({fileAttribute, downloadUrl, node});\n\n        if (!_fileAttributes.nodeKey) {\n            if (FileAttributes.strictMode) {\n                throw \"No key specified for the file attribute decryption.\";\n            } else {\n                console.log(\"No key specified for the file attribute decryption. Skipping the decryption.\");\n                return _encryptedBytes;\n            }\n        }\n        console.log(\"Decryption of a file attribute...\");\n        return Crypto.decryptAES(_encryptedBytes, _fileAttributes.nodeKey, {padding: \"ZeroPadding\"});\n    }\n}\n\nexport default class FileAttributes {\n\n    /**\n     * If `false` (default) returns not decrypted file attribute if no node key specified.\n     * If `true` `FileAttributes.getBytes` will throw the exception.\n     *\n     * @type {boolean}\n     */\n    static strictMode = false;\n\n    /** @type {FileAttribute[]} */\n    fileAttributes;\n    /** @type {Uint8Array} */\n    nodeKey;\n\n    constructor(node) {\n        const fileAttributes = [];\n\n        const chunks = node.fileAttributesStr.split(\"\\/\");\n        chunks.forEach(chunk => {\n            const groups = chunk.match(/(?<bunch>\\d+):(?<type>\\d+)\\*(?<id>.+)/).groups;\n            const {id, type, bunch} = groups;\n            fileAttributes.push(new FileAttribute(id, type, bunch));\n        });\n\n        this.fileAttributes = fileAttributes;\n        this.nodeKey = node.key || null;\n    }\n\n    /** Example output: \"924:1*sqbpWSbonCU/925:0*lH0B2ump-G8\" */\n    toString() {\n        return this.fileAttributes.join(\"/\");\n    }\n\n    /**\n     * Get file attribute by type (0, 1, 8, or 9)\n     * @param {number} type\n     * @return {FileAttribute}\n     */\n    byType(type) {\n        return this.fileAttributes.find(att => att.type === type);\n    }\n\n    // ========\n\n    /** @type {Map<String, FileAttributes>} */\n    static values = new Map();\n\n    /**\n     * @param {IMediaNode} node\n     */\n    static add(node) {\n        if (!FileAttributes.values.get(node.fileAttributesStr)) {\n            FileAttributes.values.set(node.fileAttributesStr, new FileAttributes(node));\n        }\n    }\n\n    /**\n     * @param {IMediaNode} node\n     * @return {FileAttributes}\n     */\n    static get(node) {\n        return FileAttributes.values.get(node.fileAttributesStr);\n    }\n\n    /**\n     * @param {IMediaNode} node\n     * @return {FileAttributes}\n     */\n    static of(node) {\n        FileAttributes.add(node);\n        return FileAttributes.get(node);\n    }\n\n    // ========\n\n    /** Like a static class, but with polymorphism */\n    static Thumbnail = new FileAttributeBytes(Types.thumbnail);\n    static Preview   = new FileAttributeBytes(Types.preview);\n\n    /**\n     * @param {IMediaNode} node\n     * @return {Promise<Uint8Array>}\n     */\n    static getThumbnail(node) {\n        return FileAttributes.getAttribute(node, FileAttributes.Thumbnail);\n    }\n    /**\n     * @param {IMediaNode} node\n     * @return {Promise<Uint8Array>}\n     */\n    static getPreview(node) {\n        return FileAttributes.getAttribute(node, FileAttributes.Preview);\n    }\n\n    /**\n     * NB: can be not only JPG (FF D8 FF (E0)), but PNG (89 50 4E 47 0D 0A 1A 0A) too, for example.\n     * https://en.wikipedia.org/wiki/List_of_file_signatures\n     *\n     * @param {IMediaNode} node\n     * @param {FileAttributeBytes} typeClass\n     * @return {Promise<Uint8Array>}\n     */\n    static getAttribute(node, typeClass) {\n        return typeClass.getBytes({node});\n    }\n\n}","/**\n * This class represents the share,\n * the information that is needed to get the access to a shared content – a folder, or a file.\n *\n * Usually you have the URL, that contains that data.\n * `Share.fromUrl(url)` parses the URL and returns the instance of this class.\n */\nexport default class Share {\n    /** @type {string} */\n    id;\n    /** @type {string} */\n    decryptionKeyStr;\n    /** @type {boolean} */\n    isFolder;\n    /** @type {string} */\n    selectedFolderId;\n    /** @type {string} */\n    selectedFileId;\n\n    /**\n     * @private\n     * @param {{\n     *    id: string,\n     *    decryptionKeyStr?: string,\n     *    isFolder?: boolean,\n     *    selectedFolderId?: string,\n     *    selectedFileId?: string\n     *  }} shareParts\n     */\n    constructor(shareParts) {\n        Object.assign(this, shareParts);\n    }\n\n    /** @return {string} */\n    toString() {\n        return \"\" +\n            \"[id]               \" + this.id               + \"\\n\" +\n            \"[decryptionKeyStr] \" + this.decryptionKeyStr + \"\\n\" +\n            \"[isFolder]         \" + this.isFolder         + \"\\n\" +\n            \"[selectedFolderId] \" + this.selectedFolderId + \"\\n\" +\n            \"[selectedFileId]   \" + this.selectedFileId   + \"\\n\" +\n            \"[url]              \" + this.getUrl()         + \"\\n\" +\n            \"[url-legacy]       \" + this.getUrl(true);\n    }\n\n    /**\n     * @param {string|URL} url - URL\n     * @return {boolean}\n     */\n    static isFolder(url) {\n        return Share.fromUrl(url).isFolder;\n    }\n\n    /** @return {string} */\n    get selectedId() {\n        return this.selectedFileId || this.selectedFolderId || null;\n    }\n\n    //todo? create a singleton/caching for at least one last url? to do not parse several times the same url.\n    /**\n     * @see URLS\n     * @param {string|URL} url - URL\n     * @returns {Share}\n     */\n    static fromUrl(url) {\n        const _url = url.toString(); // if passed a URL object\n        const isLegacyURL = /#F!|#!/;\n        let regExp;\n\n        if (_url.match(isLegacyURL)) {\n            regExp = /(?<type>(?<isFolder>#F!)|(?<isFile>#!))(?<id>[\\w-_]+)(?<keyPrefix>!(?=[\\w-_]{22,43})|!(?=[!?])|!(?![\\w-_]{8}))?(?<key>(?<=!)[\\w-_]{22,43})?(?<selected>((?<selectedFilePrefix>\\?)|(?<selectedFolderPrefix>!?))((?<file>(?<=\\?)[\\w-_]+)|(?<folder>(?<=!)[\\w-_]+)))?/;\n        } else {\n            regExp = /(?<type>(?<isFolder>folder\\/)|(?<isFile>file\\/))(?<id>[\\w-_]+)(?<keyPrefix>#)?(?<key>(?<=#)[\\w-_]{22,43})?(?<selected>((?<selectedFilePrefix>\\/file\\/)|(?<selectedFolderPrefix>\\/folder\\/))((?<file>(?<=\\/file\\/)[\\w-_]+)|(?<folder>(?<=\\/folder\\/)[\\w-_]+)))?/;\n        }\n\n        const match = _url.match(regExp);\n        if (!match) {\n            throw `Unsupported URL (\"${_url}\")`;\n        }\n        const {groups} = match;\n\n        const isFolder = Boolean(groups.isFolder);\n        /** Content ID */\n        const id = groups.id;\n        /** Decryption key encoded with Mega's base64 */\n        const decryptionKeyStr = groups.key    || \"\";\n        const selectedFolderId = groups.folder || \"\";\n        const selectedFileId   = groups.file   || \"\";\n\n        return new Share({id, decryptionKeyStr, isFolder, selectedFolderId, selectedFileId});\n    }\n\n    /**\n     * @param shareParts\n     * @param {string}   shareParts.id\n     * @param {string}  [shareParts.decryptionKeyStr=\"\"]\n     * @param {boolean} [shareParts.isFolder=false]\n     * @param {string}  [shareParts.selectedFolderId=\"\"]\n     * @param {string}  [shareParts.selectedFileId=\"\"]\n     * @return {Share}\n     */\n    static fromParts({id, decryptionKeyStr = \"\", isFolder = false, selectedFolderId = \"\", selectedFileId = \"\"}) {\n        return new Share({id, decryptionKeyStr, isFolder, selectedFolderId, selectedFileId});\n    }\n\n    /**\n     * Returns the url string for a share.\n     * I prefer to use the key separator when there is no key, but there is a selected node.\n     * Note: `Share.fromUrl(url).getUrl()` may not be equal to `url` (even for the same format)\n     *\n     * @see URLS\n     * @param {boolean} oldFormat\n     * @returns {string}\n     */\n    getUrl(oldFormat = false) {\n        let result;\n        const prefixes = {\n            folder:    oldFormat ? \"#F\" : \"folder\",\n            file:      oldFormat ? \"#\"  : \"file\",\n            id:        oldFormat ? \"!\"  : \"/\",\n            key:       oldFormat ? \"!\"  : \"#\",\n            selFile:   oldFormat ? \"?\"  : \"/file/\",\n            selFolder: oldFormat ? \"!\"  : \"/folder/\",\n        };\n\n        let selected = \"\";\n        if (this.selectedFileId) {\n            selected = prefixes.selFile + this.selectedFileId;\n        } else if (this.selectedFolderId) {\n            selected = prefixes.selFolder + this.selectedFolderId;\n        }\n\n        result = \"https://mega.nz/\" +\n            (this.isFolder ? prefixes.folder : prefixes.file) +\n            prefixes.id + this.id +\n            (this.decryptionKeyStr ? prefixes.key + this.decryptionKeyStr : \"\") +\n            (selected && !this.decryptionKeyStr ? prefixes.key + selected : selected);\n\n        return result;\n    }\n}","import Util from \"./util.js\";\nimport MegaUtil from \"./mega-util.js\";\nimport MegaApi from \"./mega-api.js\";\nimport FileAttributes from \"./file-attributes.js\";\nimport Share from \"./share.js\";\n\n\n//todo the most basic class with [Symbol.toStringTag]: \"MegaNode\"\n\nclass BasicFolderShareNode {\n    [Symbol.toStringTag] = \"BasicFolderShareNode\";\n    constructor(node, masterKey) {\n        this.id           = node.id;\n        this.parentId     = node.parentId;\n        this.parent       = node.parent || null;\n        this.ownerId      = node.ownerId;\n        this.creationDate = node.creationDate;\n\n        if (masterKey && node.decryptionKeyStr) {\n            const decryptionKeyEncrypted = MegaUtil.megaBase64ToArrayBuffer(node.decryptionKeyStr);\n            this._decryptionKey = MegaUtil.decryptKey(decryptionKeyEncrypted, masterKey);\n        } else {\n            this._decryptionKey = null;\n        }\n    }\n    type;\n    id;\n    parentId;\n    parent;\n    ownerId;\n    creationDate;\n    _decryptionKey;\n\n    get key() {\n        return this._decryptionKey;\n    };\n    name; // [requires key]\n\n    /**\n     * Returns the array of parents names from the root node\n     * @return {string[]}\n     */\n    get path() {\n        if (this.parent) {\n            return [...this.parent.path, this.parent.name];\n        }\n        return [];\n    }\n\n    /** @return {RootFolderNode} */\n    get root() {\n        return this.parent.type === \"rootFolder\" ? this.parent : this.parent.root;\n    }\n}\n\nclass FileNode extends BasicFolderShareNode {\n    [Symbol.toStringTag] = \"FileNode\";\n    constructor(node, masterKey) {\n        super(node, masterKey);\n        this.type = \"file\";\n        this.size = node.size;\n\n        if (masterKey && node.decryptionKeyStr) {\n            const {\n                name,\n                serializedFingerprint\n            } = MegaUtil.parseEncodedNodeAttributes(node.attributes, this.key);\n            this.name = name;\n\n            const {\n                modificationDate,\n                fileChecksum      // [unused][???]\n            } = MegaUtil.parseFingerprint(serializedFingerprint);\n            this.modificationDate = modificationDate;\n        } else {\n            this.modificationDate = null;\n            this.name = getEncryptedName(node.attributes, true);\n        }\n    }\n    size;\n\n    _keyParts;\n    get key() {\n        if (!this._keyParts) {\n            if (super.key) {\n                this._keyParts = MegaUtil.decryptionKeyToParts(super.key);\n            } else {\n                this._keyParts = {iv: null, metaMac: null, key: null};\n            }\n        }\n        return this._keyParts.key;\n    };\n    modificationDate;   // [requires key]\n    get mtime() {       // An alias\n        return this.modificationDate;\n    }\n    get modificationDateFormatted() {\n        return Util.secondsToFormattedString(this.modificationDate);\n    }\n\n    get downloadUrl() { // not implemented\n        return null;\n    }\n}\n\n/**\n * @implements IMediaNodeSimple\n * @mixes IMediaGettersMixin\n */\n// todo: add file attribute support for 8, 9 (9 may not exists)\nclass MediaFileNode extends FileNode {\n    [Symbol.toStringTag] = \"MediaFileNode\";\n    constructor(node, masterKey) {\n        super(node, masterKey);\n        this.type = \"mediaFile\";\n        this.fileAttributesStr = node.fileAttributesStr;\n    }\n    fileAttributesStr; // [requires key]\n\n    //todo mixin for it\n    /** @returns {Promise<Uint8Array>} */\n    getThumbnail() {\n        return FileAttributes.getThumbnail(this);\n    };\n    /** @returns {Promise<Uint8Array>} */\n    getPreview() {\n        return FileAttributes.getPreview(this);\n    };\n\n    get thumbnail() { // todo others\n        return FileAttributes.of(this).byType(FileAttributes.Thumbnail.type);\n    }\n\n    get preview() {\n        return FileAttributes.of(this).byType(FileAttributes.Preview.type);\n    }\n}\n\nclass FolderNode extends BasicFolderShareNode {\n    [Symbol.toStringTag] = \"FolderNode\";\n    constructor(node, masterKey) {\n        super(node, masterKey);\n        this.type = \"folder\";\n\n        if (masterKey) {\n            const {\n                name\n            } = MegaUtil.parseEncodedNodeAttributes(node.attributes, this.key);\n            this.name = name;\n        } else {\n            this.name = getEncryptedName(node.attributes, false);\n        }\n    }\n    folders = [];\n    files = [];\n\n    _size = 0;\n    get size() {\n        return this._size; // todo: recursive calculate the size\n    };\n}\n\nclass RootFolderNode extends FolderNode {\n    get [Symbol.toStringTag]() { return \"RootFolderNode\"; };\n    constructor(node, masterKey) {\n        super(node, masterKey);\n        this.type = \"rootFolder\";\n    }\n    /** @return {RootFolderNode} */\n    get root() {\n        return this;\n    }\n}\n\n\nclass SharedFileNode {\n    [Symbol.toStringTag] = \"SharedFileNode\";\n    constructor(share, nodeInfo) {\n        this.type = \"sharedFile\";\n        this.id = share.id; // in fact it is not real file node id (for every new generated share url you get new id)\n\n        if (share.decryptionKeyStr) {\n            const decryptionKey = MegaUtil.megaBase64ToArrayBuffer(share.decryptionKeyStr);\n            const {\n                iv,      // [unused][???] // probably it is needed for decryption (not implemented)\n                metaMac, // [unused][???]\n                key\n            } = MegaUtil.decryptionKeyToParts(decryptionKey);\n            this.key = key;\n        } else {\n            this.key = null;\n        }\n\n        const {\n            size,\n            nodeAttributesEncoded,\n            downloadUrl,\n            timeLeft,\n        } = nodeInfo;\n\n        this.size = size;\n        this._meta = {downloadUrl, timeLeft};\n\n        if (share.decryptionKeyStr) {\n            const {\n                name,\n                serializedFingerprint\n            } = MegaUtil.parseEncodedNodeAttributes(nodeAttributesEncoded, this.key);\n\n            const {\n                modificationDate,\n                fileChecksum   // [unused][???]\n            } = serializedFingerprint ? MegaUtil.parseFingerprint(serializedFingerprint) : {}; // Removed in ~2022?\n\n            this.name = name;\n            this.modificationDate = modificationDate;\n        } else {\n            this.modificationDate = null;\n            this.name = getEncryptedName(nodeAttributesEncoded, false);\n        }\n\n    }\n\n\n    type;\n    id;\n    size;\n\n    key;\n    name;\n    modificationDate;\n    get mtime() { // An alias\n        return this.modificationDate;\n    }\n    get modificationDateFormatted() {\n        return Util.secondsToFormattedString(this.modificationDate);\n    }\n\n    _meta;\n    get timeLeft() {\n        return this._meta.timeLeft;\n    }\n    get downloadUrl() {\n        return this._meta.downloadUrl;\n    }\n}\n\nclass SharedMediaFileNode extends SharedFileNode {\n    [Symbol.toStringTag] = \"SharedMediaFileNode\";\n    constructor(share, nodeInfo) {\n        super(share, nodeInfo);\n        this.type = \"sharedMediaFile\";\n        this.fileAttributesStr = nodeInfo.fileAttributesStr;\n    }\n    fileAttributesStr;\n\n    //todo mixin for it\n    /** @returns {Promise<Uint8Array>} */\n    getThumbnail() {\n        return FileAttributes.getThumbnail(this);\n    };\n    /** @returns {Promise<Uint8Array>} */\n    getPreview() {\n        return FileAttributes.getPreview(this);\n    };\n}\n\n\n\n/**\n * Static factory methods for node creating\n *\n * Well, not the best JSDoc signatures, may be rework it later\n */\nclass Nodes {\n\n    /**\n     * @param {string|URL} url\n     * @returns {Promise<SharedFileNode|SharedMediaFileNode|RootFolderNode|FolderNode|FileNode|MediaFileNode>\n     *     |Promise<(SharedFileNode|SharedMediaFileNode)[]|(RootFolderNode,FolderNode,FileNode,MediaFileNode)[]>}\n     */\n    static async of(url) {\n        const share = Share.fromUrl(url);\n        return share.isFolder ? Nodes.getFolderNodes(share) : Nodes.getSharedNode(share);\n    }\n\n    /**\n     * @param {string|URL} url\n     * @returns {Promise<SharedFileNode|SharedMediaFileNode|RootFolderNode|FolderNode|FileNode|MediaFileNode>}\n     */\n    static async node(url) {\n        const share = Share.fromUrl(url);\n        if (share.isFolder) {\n            const nodes = await Nodes.getFolderNodes(share);\n            if (nodes.selected) {\n                return nodes.selected;\n            } else {\n                return nodes.root;\n            }\n        } else {\n            return Nodes.getSharedNode(share);\n        }\n    }\n\n    /**\n     * @param {string|URL} url\n     * @returns {Promise<(SharedFileNode|SharedMediaFileNode)[]|(RootFolderNode,FolderNode,FileNode,MediaFileNode)[]>}\n     */\n    static async nodes(url) {\n        const share = Share.fromUrl(url);\n        if (share.isFolder) {\n            return Nodes.getFolderNodes(share);\n        } else {\n            return [await Nodes.getSharedNode(share)];\n        }\n    }\n\n    /**\n     * @param {Share} share\n     * @returns {Promise<SharedFileNode|SharedMediaFileNode>}\n     */\n    static async getSharedNode(share) {\n        const nodeInfo = await MegaApi.requestNodeInfo(share.id);\n        if (nodeInfo.fileAttributesStr) {\n            return new SharedMediaFileNode(share, nodeInfo);\n        } else {\n            return new SharedFileNode(share, nodeInfo);\n        }\n    }\n\n    /**\n     * @param {Share} share\n     * @returns {Promise<(RootFolderNode,FolderNode,FileNode,MediaFileNode)[]>} [note] The array have mixed type content\n     */\n    static async getFolderNodes(share) {\n\n        const masterKey = share.decryptionKeyStr ? MegaUtil.megaBase64ToArrayBuffer(share.decryptionKeyStr) : null;\n        //logger.debug(\"[masterKey]\", masterKey);\n\n        const {\n            nodes,\n            rootId\n        } = await MegaApi.requestFolderInfo(share.id);\n        //logger.debug(`[requestFolderInfo(\"${share.id}\").nodes]`, nodes);\n\n        const folders = new Map(); // [note] JS's HashMap holds the insert order\n        const files = [];\n\n\n        // `masterKey` is null when the share has no specified key,\n        // `node.decryptionKeyStr` is null when `k` of node info (from API) is an empty string (Mega's bug)\n        //todo either handle it here (new classes for nodes without a key)\n        // or in the node constructor modify its type to indicate this thing\n        for (let i = 0; i < nodes.length; i++) {\n\n            const node = nodes[i];\n            let resultNode;\n\n            node.parent = folders.get(node.parentId); // `undefine` for root\n\n            if (node.type === \"file\") {\n                if (node.fileAttributesStr) {\n                    resultNode = new MediaFileNode(node, masterKey);\n                } else {\n                    resultNode = new FileNode(node, masterKey);\n                }\n                files.push(resultNode);\n\n                // the parent node is always located before the child node, no need to check its existence [1][note]\n                folders.get(resultNode.parentId).files.push(resultNode);\n\n            } else if (node.type === \"folder\") {\n                if (node.id === rootId) { // or `if (i === 0)`\n                    resultNode = new RootFolderNode(node, masterKey);\n                } else {\n                    resultNode = new FolderNode(node, masterKey);\n                    folders.get(resultNode.parentId).folders.push(resultNode); // see [1] note\n                }\n                folders.set(node.id, resultNode);\n            }\n\n            nodes[i] = null;\n        }\n\n        // todo: rework – make an iterable class with these getters\n        const resultArray = [...folders.values(), ...files];\n        const root = folders.get(rootId);\n        const selected = resultArray.find(node => node.id === share.selectedId);\n        Object.defineProperty(resultArray, \"root\",     { get: () => root });\n        Object.defineProperty(resultArray, \"selected\", { get: () => selected });\n        Object.defineProperty(resultArray, \"folders\",  { get: () => [...folders.values()] });\n        Object.defineProperty(resultArray, \"files\",    { get: () => files });\n        //todo .mediaNodes\n\n        return resultArray;\n    }\n\n    static isMediaNode(node) {\n        return node.type === \"sharedMediaFile\" || node.type === \"mediaFile\";\n    }\n}\n\nexport default Nodes;\nexport {\n    FolderNode, RootFolderNode,\n    FileNode, MediaFileNode,\n    SharedFileNode, SharedMediaFileNode,\n    Nodes\n};\n\n/** @return {string|null} */\nfunction getEncryptedName(attributesEncoded, hasSerializedFingerprint) {\n    if (!MegaApi.encryptedName) {\n        return null;\n    }\n    // 3/4 since it's Base64; `MEGA{\"c\":\"\",\"n\":\"\"}`.length === 19; also it has padding;\n    let count = Math.trunc(attributesEncoded.length * 3/4) - 19;\n    if (hasSerializedFingerprint) {\n        count = count - 28;\n    }\n    count = count - 1; // make dividable by 4\n    if (count < 0) {\n        count = 16;\n    }\n    console.log(count);\n    return \"█\".repeat(count); // \"\\u2588\"\n}\n","import {Nodes} from \"./nodes.js\";\nexport const nodes = Nodes.nodes;\nexport const node  = Nodes.node;\n\n\nexport {default as FileAttributes, FileAttributeBytes} from \"./file-attributes.js\";\n// export {default as Crypto} from \"./crypto.js\";\n// export {default as GroupedTasks} from \"./grouped-tasks.js\";\nexport {default as MegaApi} from \"./mega-api.js\";\nexport {default as MegaUtil} from \"./mega-util.js\";\nexport {default as Nodes} from \"./nodes.js\";\nexport {default as Share} from \"./share.js\";\nexport * as Synchronization from \"./synchronization.js\";\nexport {default as Util} from \"./util.js\";"],"names":["Util","Semaphore","GroupedTasks","MegaUtil"],"mappings":"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"}